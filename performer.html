<!DOCTYPE html>
<html>
  <head>
    <meta content="text/html; charset=utf-8" http-equiv="content-type">
        <meta name="viewport" content="width=device-width" />

    <title>Tt - performers site</title>
    <meta content="Tarmo Johannes" id="author">
	
	<link type="text/css" rel="stylesheet" href="audience.css">
	<style >
	</style>
    <script src="ws-functions.js"></script> <!-- websocket functions -->
    <script src="server_address.js"></script> <!-- default address of the ws server -->
    <script>
    

    function onMessage(evt) 
    {
            writeToScreen("Message from server: " + evt.data + '\n');
            var mess_array = evt.data.split(" ");
            
            var parameterLetters = ["f", "a", "c","i",  "y", "z", "d", "e", "w", "v", "o", "p" ];
            
            for (var i=0; i<parameterLetters.length; i++) {
				var letter = parameterLetters[i];
				var index = mess_array.indexOf(letter+":");
				if (index>=0 && mess_array.length>index+1) {
					var value = mess_array[index+1];
					console.log(letter, value);
					document.getElementById(letter).innerHTML = value;
					
				}
            }
            
            
            
            //console.log(mess_array[0]);
           
    }
    
//     function sendValues() {
// 		var sendString = "card_" + document.getElementById("card").value 
// 			+ "_column_0_" + document.getElementById("frq").value 
// 			+ "_column_1_" + document.getElementById("amp").value 
// 			+ "_column_2_" + document.getElementById("col").value 
// 			+ "_column_3_" + document.getElementById("int").value;
// 		doSend(sendString);
//     }

	
	window.onload = function() {
		document.getElementById("url").value = serverUrl; //serverUrl;
		doConnect(serverUrl);
	}
	
	function myOnOpen() {
		//console.log("myOnOpen");
		doSend("performer"); // notify that this socket wants to get performer data
	}
	
    </script>

  </head>
  <body>
	<h1>Tt data for performers</h1>
	<br>
	
	f: <label id="f">-1</label><br> 
	a: <label id="a">-1</label><br> 
	c: <label id="c">-1</label> <br>
	i: <label id="i">-1</label> <br> 
	<br>
	y: <label id="y">-1</label> <br>
	z: <label id="z">-1</label> <br>
	d: <label id="d">-1</label> <br>
	e: <label id="e">-1</label> <br>
	<br>
	w: <label id="w">-1</label> <br>
	v: <label id="v">-1</label> <br>
	o: <label id="o">-1</label> <br>
	p: <label id="p">-1</label><br>
	
    <br>
    
    Server: <input value="ws://192.168.1.199:9009/ws" id="url" type="text" >
    <button type="button" id="connectButton" onclick="doConnect();">Connect</button>
    <br>
    <br>
     <p><textarea id="outputtext" rows="5" cols="30" readonly ></textarea> </p>
     
	
  </body>
</html>
